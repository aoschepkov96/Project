# Project


# Блок анализа и предобработки данных
## Инструкция по запуску кода:
1.	Поместите тетрадку part_2.ipynb в свою общую папку проекта.
2.	В начале тетрадки замените переменные user (имя пользователя) и database (название базы данных) в соответствии с созданной вами базой данных. Также замените переменную my_path в соответствии с путем, по которому расположена ваша общая папка проекта.
3.	Запустите код (Cell -> run all).
4.	Следуйте указаниям прописанным в самом коде.
## Описание кода:
Часть 1. Выявление событий дефолтов
1.	Определяются контракты, удовлетворяющие заданному пользователем горизонту риска, им присваивается флаг {0/1}, характеризующий наличие дефолта.
2.	 В базу данных отправляется соответствующая таблица.
3.	Строится таблица по заявкам, удовлетворяющим заданному пользователем горизонту риска, в которой к имеющимся в заявках данным добавляется флаг {дефолт/недефолт}.
Часть 2. Статистический анализ разделяющей способности переменных
1.	 Пользователю предлагается выбрать любую (категориальную или непрерывную переменную) из таблицы по заявкам, построенной в предыдущей части.
2.	По выбранной переменной строится таблица значений WOE и график (если переменная непрерывная, то предварительно производится разбиение на категории по квантилям).
3.	По выбранной переменной строится ROC-кривая.
4.	Для всех переменных строится график показателя IV.
## Результат выполнения кода:
1.	Создание в БД таблицы contracts_risk_horizon_{0}_months  по контрактам, удовлетворяющим горизонту риска, с данными о номере контракта, дате дефолта, наличии/отсутствии дефолта (флаг {1/0}).
2.	Экспорт в общую папку проекта csv файла с данными по заявкам, удовлетворяющим заданному пользователем горизонту риска, в котором к имеющимся в заявках данным добавлен флаг {дефолт/недефолт}.
3.	Экспорт в общую папку проекта png файлов с графиками (WOE для выбранной пользователем переменной, IV для всех переменных, ROC-кривой для выбранной пользователем переменной).
